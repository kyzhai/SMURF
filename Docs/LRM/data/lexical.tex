\section{Lexical Conventions}
\subsection{A High Level Description of SMURF Programs}
SMURF is a function language that allows a composer to create serialist music
based on twelve-tone composition. In general, serialism is a musical composition
technique where a set of values, chosen through some methodical progress,
          generates a sequence of musical elements. SMURF is based on the
          functional syntax and semantics set forth by Haskell. The backend of
          SMURF generates MIDIs corresponding to the uses's initial program in
          SMURF. 

\subsection{Tokens}
SMURF has 5 kinds of tokens: identifiers, keywords, constants, operators and whitespaces.

\subsubsection{Identifiers}
\label{sec:identifiers}
An identifier consists of a letter followed by other letters and
digits. The letters are the ascii characters a-z, A-Z and \_. Digits are ascii
characters 0-9. SMURF is case sensitive.
\begin{verbatim}
letter -> [`a'-`z' `A'-`Z']
digit -> [`0'-`9']
identifiers -> letter (letter | digit | `_')*
\end{verbatim}

\subsubsection{Keywords}
This is a list of reserved keywords in SMURF. The keywords are used by the
language, thus are not avaliable for re-definition or overloading.
\begin{table} [H]
	\centering
    \begin{tabularx}{0.9\textwidth}{l@{\hskip 3cm}l}
    \hline\hline
    Keywords & \\ 
    \hline\hline
      let & Specify variables and functions  \\ \hline
      in & Allow local variable binding in expression \\ \hline
      if, then, else & Specify conditional expression, else compulsory  \\ \hline
      True, False & Specify boolean logic \\ \hline
      otherwise & Specify conditional expression used with guards \\ \hline 
      %genScore & Generate musical score given list of measures as argument  \\ \hline
    \end{tabularx}
\end{table}


\subsubsection{Constants}
\label{sec:constants}
In SMURF, constants are expressions with a fixed value. Integer literials and
boolean keywords are the constants of SMURF. 

\begin{verbatim}
letter -> [`a'-`z' `A'-`Z']
digit -> [`0'-`9']
constants -> -? [`1'-`9'] digit* | True | False
\end{verbatim}


\subsubsection{Operators}
Operators in SMURF can be classied into comment operators, arithmetic operators, comparision
operators, boolean operators, list operators and function operators. 

SMURF allows nested, multiline comments in addition to single line comments.
\begin{table} [H]
\centering
\begin{tabularx}{\textwidth}{lXl}
\hline\hline
Comment Operator & Description & Example \\
\hline\hline
  /* */ & Multiline comments, nesting allowed & /* This /* is all */ commented */ \\ \hline
  // & Single-line comment & // This is a comment \\ \hline
\end{tabularx}
\end{table}

SMURF allows assignment and addition, subtraction, and modulus on expressions that evaluate to integers. These operators are all infix. The modulus operator ignores negatives e.g. 
\begin{verbatim} 13 % 12 is equal to -13 % 12 \end{verbatim}
\begin{table} [H]
\centering
\begin{tabularx}{\textwidth}{lXX}
\hline\hline
Arithmetic Operator & Description & Example \\
\hline\hline
  = & Assignment operator & a = 4 \\ \hline
  + & Integer arithmetic: plus  & a + 2 \\ \hline
  $-$ & Integer arithmetic: minus  & 5 $-$ a \\ \hline 
  \% & Integer arithmetic: modulus, ignores negatives  & 14 \% 12 \\ \hline
  $\wedge+$ & Beat add operator & 2 $\wedge+$ 2 = 1 (The add of two half notes evaluates one whole note) \\ \hline
  $\wedge-$ & Beat substract operator & 1 $\wedge-$ 2 = 2 (One whole note substracts one half note evaluates one half note) \\ \hline
\end{tabularx}
\end{table}

SMURF allows comparison operations between expressions that evaluate to integers.
\begin{table} [H]
\centering
\begin{tabular}{lll}
\hline\hline
Comparison Operator & Description & Example \\
\hline\hline
  \textless  & Less than & if a \textless\space  5 then True else False \\ \hline
  \textgreater  & Greater than & if a \textgreater\space  5 then True else False  \\ \hline
  \textless=  & Less than or equal to & if a \textless= 5 then True else False \\ \hline
  \textgreater= & Greater than or equal to & if a \textgreater= 5 then True else False \\ \hline
\end{tabular}
\end{table}


SMURF allows logical negation, conjunction, and disjunction, in addition to structural comparison and boolean notation for use with guards.
\begin{table} [H]
\centering
\begin{tabular}{lll}
\hline\hline
Boolean Operator & Description & Example \\
\hline\hline
   == & Structural comparison & if a == 5 then a = True else a = False \\ \hline
   \textcolor{red}{not} & Logical negation & if not a == 5 then True else False \\ \hline
   \&\& & Logical conjunction & if b \&\& c  then True else False \\ \hline
   \textbar\textbar & Logical disjunction & if b \textbar\textbar\space   c  then True else False \\ \hline
 \end{tabular}
\end{table}

SMURF allows concatenation and construction of lists.
\begin{table} [H]
\centering
\begin{tabular}{lll}
\hline\hline
List Operator & Description & Example \\
\hline\hline
   ++ & Concatenation: concat & [1,2,3] ++ [4,5,6] (result is [1,2,3,4,5,6]) \\ \hline
   : & Construction: cons & 1 : [2,3,4] (result is [1,2,3,4]) \\ \hline
   $[]$ & List constructor & $[]$ (result is an empty list) \\ \hline
\end{tabular}
\end{table}


SMURF allows type, argument, and function return type specificatio in addition
to concatenation and construction operations.
\begin{table} [H]
\centering
\begin{tabularx}{\textwidth}{lXl}
\hline\hline
Function Operator & Description & Example \\
\hline\hline
   :: & Type specification & returnIntFunc :: Int \\ \hline
   \textendash\textgreater & Argument and function return type specification
     & isPositiveNum :: Int \textendash\textgreater\space Bool  \\ \hline
   \textbar & Boolean operator used with guards & isSeven num :: [Int] \textendash\textgreater\space Bool\\ 
     && \textbar\space (num == 7) = True \\
     && \textbar\space otherwise = False\\ \hline
\end{tabularx}
\end{table}

SMURF allows 3 transformation operations to tone rows: inversion, retrograde and
transposition.
\begin{table} [H]
\centering
\begin{tabularx}{0.9\textwidth}{llX}
\hline\hline
Tone Row Operator & Description & Example \\
\hline\hline
   $\sim$ & Inversion & $\sim$ {\it row} (returns the inversion of {\it row})\\ \hline
   \textless\textgreater & Retrograde & \textless\textgreater~{\it row} (returns the
           retrograde of {\it row})\\ \hline
   $\wedge\wedge$ & Transposition & $\wedge\wedge$ {\it row} 3 (transposes {\it row} by 3
           semitones)\\ \hline
\end{tabularx}
\end{table}


\subsubsection{Whitespace}
Blanks, tabs and newlines are referred to as whitespaces in SMURF. SMURF treats
\texttt{newlines} as tokens and ignores others whitespaces. 


\subsection{Separators}
SMURF uses separators to seperate tokens. The separators of SMURF include:
\begin{verbatim} 
    ,   :   ;   {   }   whitespaces
\end{verbatim}

